f(x) = \sum _{i=1}^n \left\{\frac{(x - z_i)_+^2}{5+2 z_i +(x-z_i)_+^2}\right\} - \left\{(\frac{x^3}{3} - \frac{(x - z_i)_+^3}{3})\right\} 
1_{A}
A
 (x-z_i)_+^2 =  (x-z_i)^21_{(x-z_i)\geq0} 
 \frac{d}{dx}(x-z_i)^21_{(x-z_i)\geq0} = 2(x-z_i)1_{(x-z_i)\geq0}. 
