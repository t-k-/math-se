#!/bin/bash
find ./collection -name "post*" | xargs cat | sort -k 2 > tmp
> tmp2
cat tmp | while read -d $'\n' line
do
	echo $line | awk '{print $2}' >> tmp2
done
cat tmp2 | uniq > tmp3

cat tmp3 | while read -d $'\n' line
do
	find ./collection -name "$line" | head -1 | xargs cat
done
rm -f tmp*
