\begin{align*} x_1 + u_a (x_2 - x_1) &= x_3 + u_b (x_4 - x_3)  \\\ y_1 + u_a (y_2 - y_1) &= y_3 + u_b (y_4 - y_3)    \end{align*}
\begin{align*} u_a &= \frac{(x_4 - x_3)(y_1 - y_3) - (y_4-y_3)(x_1-x_3)}{(y_4-y_3)(x_2-x_1)-(x_4-x_3)(y_2-y_1)} \\\ u_b &= \frac{(x_2-x_1)(y_1-y_3)-(y_2-y_1)(x_1-x_3)}{(y_4-y_3)(x_2-x_1)-(x_4-x_3)(y_2-y_1)} \end{align*}
Au_a+Bu_b=C,Du_a+Eu_b=F
A=x_2-x_1,B=-(x_4-x_3),C=x_3-x_1,D=y_2-y-1,E=-(y_4-y_3),F=y_3-y_1
E
B
(EA-BD)u_a=EC-BF
u_b
u_a={EC-BF\over EA-BD}={-(y_4-y_3)(x_3-x_1)+(x_4-x_3)(y_3-y_1)\over-(y_4-y_3)(x_2-x_1)+(x_4-x_3)(y_2-y-1)}
 \begin{align} u_a(x_2-x_1)+u_b(x_3-x_4)&=x_3-x_1\\ u_a(y_2-y_1)+u_b(y_3-y_4)&=y_3-y_1 \end{align} 
 \begin{align*} u_a&=\frac{\begin{vmatrix}x_3-x_1&&x_3-x_4\\y_3-y_1&&y_3-y_4\end{vmatrix}}{\begin{vmatrix}x_2-x_1&&x_3-x_4\\y_2-y_1&&y_3-y_4\end{vmatrix}}\\ &=\frac{(x_3-x_1)(y_3-y_4)-(y_3-y_1)(x_3-x_4)}{(x_2-x_1)(y_3-y_4)-(y_2-y_1)(x_3-x_4)} \end{align*} 
 \begin{align*} u_b&=\frac{\begin{vmatrix}x_2-x_1&&x_3-x_1\\y_2-y_1&&y_3-y_1\end{vmatrix}}{\begin{vmatrix}x_2-x_1&&x_3-x_4\\y_2-y_1&&y_3-y_4\end{vmatrix}}\\ &=\frac{(x_2-x_1)(y_3-y_1)-(y_2-y_1)(x_3-x_1)}{(x_2-x_1)(y_3-y_4)-(y_2-y_1)(x_3-x_4)} \end{align*} 
