r
Q(x_0,y_0)
P(x_1,y_1)
R(x_2,y_2)
A(x_a,y_a)
B(x_b,y_b)
O
\triangle OAP
\angle APO
\angle QPR=2\angle APO
\angle OAP=90^\circ
|OA|=r
\mathbb{R}^3
\mathbb{R}^2
 \cot\left(\frac{\theta}{2}\right)=\frac{\sin(\theta)}{1-\cos(\theta)}=\frac{1+\cos(\theta)}{\sin(\theta)}\tag{1} 
(x,y)\perp(y,-x)
\color{#FF0000}{\text{red angle}}
\color{#00A000}{\text{green angle}}
uy-vx
(u,v,0)\times(x,y,0)
(u,v)\times(x,y)=uy-vx
 \begin{align} \sin(\color{#FF0000}{\text{red angle}}) &=\cos(\color{#00A000}{\text{green angle}})\\[6pt] &=\frac{(u,v)\cdot(y,-x)}{|(u,v)||(y,-x)|}\\[6pt] &=\frac{uy-vx}{|(u,v)||(x,y)|}\tag{2} \end{align} 
u_a=\frac{Q-P}{|Q-P|}
u_b=\frac{R-P}{|R-P|}
u_a\times u_b
u_a
u_b
 |A-P|=|B-P|=r\cot\left(\frac{\theta}{2}\right) 
 \begin{align} A &=P+ru_a\cot\left(\frac{\theta}{2}\right)\\ &=P+ru_a\frac{1+u_a\cdot u_b}{|u_a\times u_b|} \end{align} 
 \begin{align} B &=P+ru_b\cot\left(\frac{\theta}{2}\right)\\ &=P+ru_b\frac{1+u_a\cdot u_b}{|u_a\times u_b|} \end{align} 
PR
x
x_b
x_a
P
Q
A
B
A
B
PQ
PR
O
\angle QPR
OB
r
Ax+By+C=0
(x,y)
\frac{|Ax+By+C|}{\sqrt{A^2+B^2}}
r
