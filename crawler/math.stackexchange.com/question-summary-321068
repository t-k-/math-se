f(n,k)
[0,n)
n
\operatorname{rand}(0)=0
f(n,k)
n
k
\frac{(n-1)(n+2-2^k)}{2^k n}
n
\mathcal{O}\left(\log(n)^{k-2}\right)
n
\mathbb{E}(Y_5)
   \mathbb{E}(Y_5) = [n > 5 ] \left( \frac{(n-1)(n-30)}{32 n} + \frac{1}{32n} \ell_n \right) 
   \ell_n = -8 H_{n-1} H_{n-1}^{(2)}+\frac{8}{3} \left(H_{n-1}\right){}^3+12 \left(H_{n-1}\right){}^2+28 H_{n-1}-12    H_{n-1}^{(2)}+\frac{16 }{3} H_{n-1}^{(3)} 
f(3,2)
3 \rightarrow 2 \rightarrow 1
\frac{1}{3}*\frac{1}{2}=\frac{1}{6}
\frac{1}{6}
[0,n)
f(n,k)
2^{-k}n
n
a_i
(a_i-1)/2
1
a_{i+1}+1=(a_i+1)/2
f(n,k)
2^{-k}(n+1)-1
