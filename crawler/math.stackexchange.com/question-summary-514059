d_1
d_2
d_n
B
n \times n
B
\mathrm{Mat}_n(\mathbb{Z})
\begin{pmatrix} d_1 & 1 & 1 & \cdots & 1 \\ 1 & d_2 & 1 & \cdots & 1 \\ 1 & 1 & d_3 & \cdots & 1 \\ \vdots & \vdots & \vdots & \ddots & \vdots \\ 1 & 1 & 1 & \cdots & d_n \end{pmatrix}.
rs+su=1=(r+u)s
tr+ut=1=(r+u)t
s=t=r+u=\pm1
n=2
d_1-1
d_2-1
\pmatrix{r&s\cr t&u\cr}\pmatrix{r&s\cr t&u\cr}=\pmatrix{d_1&1\cr1&d_2\cr}
\pmatrix{r&1\cr1&1-r\cr}^2=\pmatrix{r^2+1&1\cr1&(r-1)^2+1\cr}
\pmatrix{r&-1\cr-1&-1-r\cr}^2=\pmatrix{r^2+1&1\cr1&(r+1)^2+1\cr}
