P1
P2
A
B
P
R
\vec t
R\vec p_{1B}+\vec t=\vec p_{1A}\;,\tag1
R\vec p_{2B}+\vec t=\vec p_{2A}\;.\tag2
R\left(\vec p_{1B}-\vec p_{2B}\right)=\vec p_{1A}-\vec p_{2A}\;.\tag3
y
B
x
y
A
y
z
R
 \begin{pmatrix}\cos\alpha&\sin\alpha\\-\sin\alpha&\cos\alpha\\&&1\end{pmatrix} \begin{pmatrix}\cos\beta&&\sin\beta\\&1&\\-\sin\beta&&\cos\beta\end{pmatrix} = \begin{pmatrix} \cos\alpha\cos\beta&\sin\alpha&\cos\alpha\sin\beta\\ -\sin\alpha\cos\beta&\cos\alpha&-\sin\alpha\sin\beta\\ -\sin\beta&&\cos\beta \end{pmatrix} \;. 
\beta
(3)
\beta
-\sin\beta(p_{1Bx}-p_{2Bx})+\cos\beta(p_{1Bz}-p_{2Bz})=p_{1Az}-p_{2Az}\;.
a\sin\phi+b\cos\phi=c\tag4
 \begin{eqnarray} a&=&p_{2Bx}-p_{1Bx}\;,\\ b&=&p_{1Bz}-p_{2Bz}\;,\\ c&=&p_{1Az}-p_{2Az} \end{eqnarray} 
a
b
a=r\cos\xi
b=r\sin\xi
r\cos\xi\sin\phi+r\sin\xi\cos\phi=c\;,
\sin(\xi+\phi)=\frac cr\;.
\phi_1=\arcsin\frac cr-\xi\;,
\phi_2=\pi-\phi_1
y
z
r
\xi
r=\sqrt{a^2+b^2}
\xi=\text{atan}(b,a)
\text{atan}
\beta
(3)
 \cos\alpha\cos\beta(p_{1Bx}-p_{2Bx})+\sin\alpha(p_{1By}-p_{2By})+\cos\alpha\sin\beta(p_{1Bz}-p_{2Bz})=p_{1Ax}-p_{2Ax}\;, 
\alpha
(4)
 \begin{eqnarray} a &=& p_{1By}-p_{2By}\;, \\ b &=& \cos\beta(p_{1Bx}-p_{2Bx})+\sin\beta(p_{1Bz}-p_{2Bz}) \;, \\ c &=& p_{1Ax}-p_{2Ax} \;. \end{eqnarray} 
\alpha
\beta
(3)
z
x
\alpha
(3)
y
\alpha
\beta
(1)
(2)
\vec t
a=b=c=0
|c|>r
B
A
\vec p_B=R^T(\vec p_A-\vec t)\;.
y'
xy
y'
y
T
x_1
x_2
d = x_2 - x_1
v
v' = [T][v] - d
\begin{align}  x' &= a_{11}x+a_{12}y+a_{13}z +b_1\\ y' &= a_{21}x+a_{22}y+a_{23}z +b_2\\ z' &= a_{31}x+a_{32}y+a_{33}z +b_3\\  \end{align}
a
\begin{align}  &a_{11}^2+a_{21}^2+a_{31}^2=\\ &a_{12}^2+a_{22}^2+a_{32}^2=\\ &a_{13}^2+a_{23}^2+a_{33}^2=1  \end{align}
\begin{align}  &a_{11}a_{12}+a_{21}a_{22}+a_{31}a_{32}=\\ &a_{11}a_{13}+a_{21}a_{23}+a_{31}a_{33}=\\ &a_{12}a_{13}+a_{22}a_{23}+a_{32}a_{33}=0  \end{align}
a
b
TA \rightarrow RA \rightarrow -RB \rightarrow -TA
