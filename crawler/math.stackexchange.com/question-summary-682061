f:X \rightarrow Y
y
f^{-1}(v) \rightarrow V
M_\mathfrak{q}
A
M_\mathfrak{q}
A_\mathfrak{p}
A\to A_\mathfrak{p}
\text{Tor}_1^A(M,A/\mathfrak{p})_\mathfrak{q}\cong\text{Tor}_1^A(M_\mathfrak{q},A/\mathfrak{p})=0
\text{Tor}_1^A(M,A/\mathfrak{p})
B
g_1,\ldots,g_r\in B-\mathfrak{q}
\text{Tor}_1^A(M,A/\mathfrak{p})
g=fg_1\cdots g_r
\text{Tor}_1^A(M,A/\mathfrak{p})
0\to\mathfrak{p}\to A\to A/\mathfrak{p}\to 0
\cdots\to\underbrace{\text{Tor}_1^A(M,A)}_{=0}\to\text{Tor}_1^A(M,A/\mathfrak{p})\to M\otimes_A\mathfrak{p}\to M\otimes_A \to M\otimes_A A/\mathfrak{p}\to 0
\text{Tor}_1^A(M,A/\mathfrak{p})
B
M\otimes_A\mathfrak{p}
B
\text{Tor}_1^A(M,A/\mathfrak{p})
\blacksquare
U
U
C
X
C\cap U
O\subseteq C
C\cap U\supseteq O
U\cap V(\mathfrak{p})
M_\mathfrak{q}
A_\mathfrak{p}
U\cap V(\mathfrak{p})
V(\mathfrak{p})\cap D(g)
\blacksquare
f : X\to Y
\{x \in X :  \text{
 is flat at 
} \}
X
A
M
A
\mathfrak{p}
M_{\mathfrak{p}}
A_{\mathfrak{p}}
f \in A
M_f
A_f
