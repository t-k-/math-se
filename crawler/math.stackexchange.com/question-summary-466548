OA
\theta=\text{atan2}(A_x,A_y)
OP
\phi=\theta-x
OP
y=x \tan \phi
AB
y-A_y=\frac{B_y-A_y}{B_x-A_x}(x-A_x)
y
