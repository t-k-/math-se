p
p \equiv 1 \pmod 4
(p-b) \pmod p
p-1
b^k \equiv 1 \pmod p
(p-b)^k \equiv 1 \pmod p
k=p-1
k
b\pmod p
p-1
k
(p-b)^k\equiv 1\pmod p
k
p-1
p-b \equiv (-1)b \pmod p
(-1)^k b^k \equiv 1\pmod p
k
b^k \equiv 1\pmod p
k
p-1
k
b^k\equiv -1\pmod p
b^k\equiv -1\pmod p
b^{2k}\equiv 1\pmod p
2k
p-1
k
(p-1)/2
p\equiv1\pmod4
(b^{(p-1)} \equiv 1 \pmod{p}) \land (2\ |\ (p-1))\\  \Rightarrow \\  (-1)^{(p-1)}(b)^{(p-1)} \equiv 1 \pmod{p}\\  \Rightarrow \\  (-b)^{(p-1)} \equiv 1 \pmod{p} \\  \Rightarrow \\  (p-b)^{(p-1)} \equiv 1 \pmod{p}  
p-b
p-1
k
b^k\equiv1\mod{p}
 k<(p-1) \ \land \ (p-b)^k \equiv 1 \pmod{p}\\ \Rightarrow \\ (-1)^k b^k \equiv 1 \pmod{p} \\ 
2 | k \Rightarrow b^k \equiv 1 \pmod{p} \Rightarrow (p-1)|k \Rightarrow k=p-1
2 \nmid k \Rightarrow b^k \equiv -1 \pmod{p} \Rightarrow b^{2k} \equiv 1 \pmod{p} \Rightarrow (p-1)|2k
\exists \ k'\quad p = 1+4k' \\ \Rightarrow 4k' | 2k \Rightarrow 2|k\\
k = p-1
\Box
