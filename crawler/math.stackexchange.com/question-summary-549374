\lambda
S \rightarrow a A b \mid B B a
A \rightarrow b b \mid \lambda
B \rightarrow A A \mid b A a 
A
S \rightarrow a A b \mid B B a
A \rightarrow  b b
B \rightarrow A A \mid b A a
A\to\lambda
ab
A\to bb
A
3
4
abbb
S\Rightarrow aAb\Rightarrow ab\;,
A
A\to\lambda
X\to vAw
v
w
A\to\lambda
X\Rightarrow vAw\Rightarrow vw
A\to\lambda
X\to vw
X\Rightarrow vw
X\Rightarrow vAw\Rightarrow vw
S\to ab
S\to aAb
B\to ba
B\to bAa
B\to AA
A\to\lambda
\begin{align*} &B\Rightarrow AA\Rightarrow A\lambda=A\text{ and}\\ &B\Rightarrow AA\Rightarrow\lambda A=A \end{align*}
A\to\lambda
B\to A
B\Rightarrow AA\Rightarrow^*A\Rightarrow\lambda\;,
\lambda
A
B\to\lambda
\begin{align*} &S\to aAb\mid ab\mid BBa\\ &A\to bb\\ &B\to AA\mid A\mid\lambda\mid bAa\mid ba\;. \end{align*}
A\to\lambda
\lambda
B\to\lambda
B\to\lambda
B
S\to BBa
B\to\lambda
B\to\lambda
S\to Ba
S\to a
S\Rightarrow BBa\Rightarrow Ba
S\Rightarrow BBa\Rightarrow Ba\Rightarrow a\;,
\begin{align*} &S\to aAb\mid ab\mid BBa\mid Ba\mid a\\ &A\to bb\\ &B\to AA\mid A\mid bAa\mid ba\;. \end{align*}
S \rightarrow a A b | B B a
A \rightarrow bb|\lambda
B \rightarrow AA | bAa
A
\lambda
S \rightarrow a b
A \rightarrow bb
B \rightarrow A | \lambda | ba
S \rightarrow aAb | BBa | ab
A \rightarrow bb
B \rightarrow AA | A | \lambda | bAa |ba
\lambda
B
