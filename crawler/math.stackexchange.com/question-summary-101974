\begin{align}&(a_1^2+a_2^2+a_3^2+a_4^2)(b_1^2+b_2^2+b_3^2+b_4^2)=\\ &(a_1 b_4 + a_2 b_3 + a_3 b_2 + a_4 b_1)^2 +\\ &(a_1 b_3 - a_2 b_4 + a_3 b_1 - a_4 b_2)^2 +\\ &\left(a_1 b_2 + a_2 b_1 + \frac{a_3 (b_1^2b_4-2b_1b_2b_3-b_2^2b_4)}{b_1^2+b_2^2} - \frac{a_4 (b_1^2b_3+2b_1b_2b_4-b_2^2b_3)}{b_1^2+b_2^2}\right)^2+\\ &\left(a_1 b_1 - a_2 b_2 - \frac{a_4 (b_1^2b_4-2b_1b_2b_3-b_2^2b_4)}{b_1^2+b_2^2} - \frac{a_3 (b_1^2b_3+2b_1b_2b_4-b_2^2b_3)}{b_1^2+b_2^2}\right)^2 \end{align}
\begin{align} &(x_1^2\,+\,x_2^2\,+\,x_3^2\,+\,x_4^2\,+\,x_5^2\,+\,x_6^2\,+\,x_7^2\,+\,x_8^2)(y_1^2\,+\,y_2^2\,+\,y_3^2\,+\,y_4^2\,+\,y_5^2\,+\,y_6^2\,+\,y_7^2\,+\,y_8^2)\\ &=z_1^2\,+\,z_2^2\,+\,z_3^2\,+\,z_4^2\,+\,z_5^2\,+\,z_6^2\,+\,z_7^2\,+\,z_8^2 \end{align}
\begin{align} z_1 &= x_1 y_1 - x_2 y_2 - x_3 y_3 - x_4 y_4 + u_1 y_5 - u_2 y_6 - u_3 y_7 - u_4 y_8\\  z_2 &= x_2 y_1 + x_1 y_2 + x_4 y_3 - x_3 y_4 + u_2 y_5 + u_1 y_6 + u_4 y_7 - u_3 y_8\\  z_3 &= x_3 y_1 - x_4 y_2 + x_1 y_3 + x_2 y_4 + u_3 y_5 - u_4 y_6 + u_1 y_7 + u_2 y_8\\  z_4 &= x_4 y_1 + x_3 y_2 - x_2 y_3 + x_1 y_4 + u_4 y_5 + u_3 y_6 - u_2 y_7 + u_1 y_8\\  z_5 &= x_5 y_1 - x_6 y_2 - x_7 y_3 - x_8 y_4 + x_1 y_5 - x_2 y_6 - x_3 y_7 - x_4 y_8\\  z_6 &= x_6 y_1 + x_5 y_2 + x_8 y_3 - x_7 y_4 + x_2 y_5 + x_1 y_6 + x_4 y_7 - x_3 y_8\\  z_7 &= x_7 y_1 - x_8 y_2 + x_5 y_3 + x_6 y_4 + x_3 y_5 - x_4 y_6 + x_1 y_7 + x_2 y_8\\  z_8 &= x_8 y_1 + x_7 y_2 - x_6 y_3 + x_5 y_4 + x_4 y_5 + x_3 y_6 - x_2 y_7 + x_1 y_8 \end{align}
\begin{align} u_1 &= \frac{(-x_1^2+x_2^2+x_3^2+x_4^2)x_5 - 2x_1(0x_1 x_5+x_2 x_6+x_3 x_7+x_4 x_8)}{d}\\ u_2 &= \frac{(x_1^2-x_2^2+x_3^2+x_4^2)x_6 - 2x_2(x_1 x_5+0x_2 x_6+x_3 x_7+x_4 x_8)}{d}\\ u_3 &= \frac{(x_1^2+x_2^2-x_3^2+x_4^2)x_7 - 2x_3(x_1 x_5+x_2 x_6+0x_3 x_7+x_4 x_8)}{d}\\ u_4 &= \frac{(x_1^2+x_2^2+x_3^2-x_4^2)x_8 - 2x_4(x_1 x_5+x_2 x_6+x_3 x_7+0x_4 x_8)}{d}\\ d &=x_1^2+x_2^2+x_3^2+x_4^2 \end{align}
u_1^2+u_2^2+ u_3^2+ u_4^2 = x_5^2+x_6^2+ x_7^2+x_8^2
