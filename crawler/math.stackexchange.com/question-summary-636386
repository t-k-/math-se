n=241
a = 3
2
241-1
 240 = 2^4 \times 15 
3^{15}
 3^{15} \equiv 8 \mod 241 
 3^{30} = (3^{15})^2 \equiv 8^2 = 64 \mod 241 
 3^{60} = (3^{30})^2 \equiv 64^2 \equiv -1 \mod 241 
 3^{120}= (3^{60})^2 \equiv (-1)^2 \equiv 1\mod 241 
 3^{240}= (3^{120})^2 \equiv (-1)^2 \equiv 1\mod 241 
a^{2^s\cdot d} \equiv 1 \bmod n
a = 3
n = 241
n = 241
n - 1 = 240 = 2^4 \cdot 15
s = 4
d = 15
a = 3
\begin{aligned} 3^{2^0 \cdot d} &\bmod n \equiv 8 \bmod n \not\equiv 1\bmod n\\ 3^{2^1 \cdot d} &\bmod n \equiv 64 \bmod n \not\equiv 1 \bmod n\\ 3^{2^2 \cdot d} &\bmod n \equiv 240 \bmod n \equiv -1\bmod n \not\equiv 1 \bmod n\\ 3^{2^3 \cdot d} &\bmod n \equiv 1 \bmod n\\ 3^{2^4 \cdot d} &\bmod n \equiv 1 \bmod n \end{aligned}
