p
b
\gcd(b,p) = 1
b
m = p^2
b^{p-1}\equiv 1\pmod {p^2}
b^{p-1}\not\equiv 1\pmod p
p
p
\gcd(b,p)=1
p+1
b^{p^2-1}\equiv 1\pmod{p^2}\quad\hbox{if and only if}\quad   b^{p-1}\equiv1\pmod{p^2}\ .
b^{p^2-1}\equiv 1\pmod{p^2}
p
b^p\equiv b\pmod p
k
p^2
b
\gcd(b,p)=1
b^p=kp+b
b^{p^2}=(b^p)^p=(kp+b)^p=\cdots+\Bigl({p\atop p-2}\Bigr)(kp)^2b^{p-2}+p(kp)b^{p-1}+b^p\ .
b^p\equiv b^{p^2}\pmod{p^2}\ .
b^{p-1}\equiv b^{p^2-1}\equiv 1\pmod{p^2}\ .
