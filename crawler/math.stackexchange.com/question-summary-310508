\Pr[\text{choose two equal bits}] = \Pr[\text{2nd bit} = 0 \mid \text{1st bit} = 0] + \Pr[\text{2nd bit} = 1 \mid \text{1st bit} = 1]
\frac{1}{2}\cdot\frac{1}{2}=\frac{1}{4}
\Pr[\text{2nd bit} = 0] = 1\cdot\frac{1}{4} + \frac{1}{2}\cdot\frac{1}{4} + 0\cdot\frac{1}{4} = \frac{3}{8}
\Pr[\text{2nd bit} = 1] = \Pr[\text{2nd bit} = 0]
\Pr[\text{2nd bit}=0 \mid \text{1st bit} = 0] = \frac{\Pr[\text{1st and 2nd bits are 0}]}{\Pr[\text{1st bit}=0]} = \frac{1/2\cdot3/8}{1/2} = \frac{3}{8}
\Pr[\text{2nd bit} = 1 \mid \text{1st bit} = 1] = \frac{3}{8}
\Pr[\text{choose two equal bits}] = 2\cdot\frac{3}{8} = \frac{3}{4}
\Pr[\text{2nd bit} = 0] =\frac 12
\Pr[\text{choose two equal bits}] = \Pr[\text{2nd bit} = 0 \mid \text{1st bit} = 0] + \Pr[\text{2nd bit} = 1 \mid \text{1st bit} = 1]
\Pr[\text{1st bit} = 0]=\frac 12
\Pr[\text{1st bit} = 1]=\frac 12
\frac 12
00,10,01,11
2
4
\frac{1}{2}
\frac{1}{2}
B_1
B_2
B_2
B_3
B_1
B_3
\Pr\left(B_1 = B_2\right) = \Pr\left(B_2 = B_3\right) = \Pr\left(B_1 = B_3\right) = \frac{1}{2}
     \Pr\left(\text{two same bits}\right) = \frac{1}{3} \Pr\left(B_1 = B_2\right) + \frac{1}{3} \Pr\left(B_2 = B_3\right) + \frac{1}{3} \Pr\left(B_1 = B_3\right) 
1/2
 P(\text{sample two same bits})=P(\text{sample 2 same bits}|C1)P(C1) +2P(\text{sample 2 same bits}|C_2)P(C_2)\\ =1 \cdot \frac{2}{2^3} + 2 \cdot \frac{2}{3} \cdot \frac{1}{2} \cdot \binom{3}{1}\cdot \frac{1}{2^3}=\frac{1}{2} 
\binom{3}{1} \cdot \frac{1}{2^3}
\frac{2}{3} \cdot \frac{1}{2}
