\int_{0}^{2\pi}(1-\cos x)^n\cos nx dx=(-1)^n\frac{\pi}{2^{n-1}} 
2\cos x =z+\frac1z
2\cos x =z+\frac1z
I=\int_{\left | z \right |=1}\frac{(-1)^n}{2^{n+1}}\frac{(z^2-2z+1)^n}{z^{2n+1}}dz
I=Res_{z=0}\frac{(z^2-2z+1)^n}{z^{2n+1}} 
[-\pi,\pi]
\int_{-\pi}^\pi (1-\cos x)^n \cos nx\,dx = \int_{-\pi}^\pi (1-\cos x)^n e^{inx}\,dx.
z = e^{ix}
dx = \frac{dz}{iz}
\cos x = \frac{1}{2}(z + z^{-1})
\begin{align} \int_{-\pi}^\pi (1-\cos x)^n \cos nx\,dx &= \frac{1}{i} \int_{\lvert z\rvert = 1} \left(1 - \frac{z+z^{-1}}{2}\right)^n z^n \,\frac{dz}{z}\\ &= \frac{1}{i} \int_{\lvert z\rvert = 1} \left(z - \frac{z^2}{2} - \frac{1}{2}\right)^n\, \frac{dz}{z}. \end{align}
\left(-\frac{1}{2}\right)^n
