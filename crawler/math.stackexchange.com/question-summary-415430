\frac{x+2}{x^2+2x+2} = \frac{x+2}{(x+1)^2+1} = \int \frac{x}{(x+1)^2+1} + 2 \times \int \frac{1}{(x+1)^2+1}
= \arctan(x+1) + c
c
\int \frac{x}{(x+1)^2+1}
\frac{x+1}{x^2+2x+2} + \frac{1}{x^2+2x+2}
\int \frac{x+1}{(x+1)^2+1}\;dx \implies (x+1)^2+1 = u
\implies \int\frac{(x+1)}{u} \text{ and } \frac{du}{2(x+1)}
=\frac{1}{2}\int \frac{1}{u}\,du
=\frac{1}{2}\ln(u)
=\frac{1}{2}\ln(x^2+2x+2)
\int \frac{1}{x^2+2x+2}\,dx = \int \frac{1}{(x+1)^2+1}\,dx = \arctan(x+1)
\frac{1}{2}\ln(x^2+2x+2) + \arctan(x+1) + C
\int\frac{x+2}{x^2+2x+2}dx=\int\frac{x+2}{(x+1)^2+1^2}dx
x+1=\tan \theta
x+2= A\frac{d(x^2+2x+2)}{dx}+B
x+2=A\cdot2(x+1)+B=2Ax+2A+B
x,1=2A\implies A=\frac12
2A+B=2\implies B=2-2A=1
\int\frac{x+2}{x^2+2x+2}dx
=\frac12\int \frac{d(x^2+2x+2)}{dx}\cdot\frac1{x^2+2x+2} dx+\int\frac{dx}{x^2+2x+2}
=\frac12\int \frac{d(x^2+2x+2)}{x^2+2x+2}+\int \frac{dx}{(x+1)^2+1^2}
