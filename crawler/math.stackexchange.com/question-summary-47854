\phi_i
\lambda_i
(x_i,y_i,z_i)
(R \cos \phi_i  \cos \lambda_i, R \sin \phi_i  \cos \lambda_i  , R \sin \lambda_i )
(\bar{x},\bar{y},\bar{z})
\bar{\phi} = \text{atan2}\left(\bar{y},\bar{x}\right) \text{ and } \bar{\lambda} = \text{atan2}\left(\bar{z},\sqrt{\bar{x}^2+\bar{y}^2}\right).   
\frac{\sqrt{\bar{x}^2+\bar{y}^2+\bar{z}^2}}{R}
