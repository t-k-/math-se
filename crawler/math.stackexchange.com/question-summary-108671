w\in\mathbb{N}^n
w
\text{maj}(w)=\sum_{d\in D(w)}d
D(w)=\{i\in[n-1]:w(i)>w(i+1)\}.
k_i
i
w
w\in[r]^n
w(n)=s
w'=(12\cdots r)^{r-s}\circ w
\text{maj}(w')=\text{maj}(w)-k_{s+1}+\cdots+k_r
\text{maj}
n=5
r=3
w=12321
s=1
D(w)=\{3,4\}
\operatorname{maj}(w)=7
w\,'=31213
D(w\,')=\{1,3\}
\operatorname{maj}(w\,')=4=7-(k_2+k_3)
\operatorname{maj}(w\,')=\operatorname{maj}(w)-(k_{s+1}+\dots+k_r)
w\mapsto w\,'
i
w
i\,'=\begin{cases} i+r-s,&\text{if }1\le i\le s\\\\ i-s,&\text{if }s<i\le r\;. \end{cases}\tag{1}
d\in D(w)
i=w(d)
i\le s
w\,'(d)=i+r-s
w(d+1)<w(d)
w\,'(d+1)=w(d+1)+r-s
d\in D(w\,')
s<i\le r
i\,'=i-s
w(d+1)>s
d
w\,'
w(d+1)\le s
w\,'(d+1)=w(d+1)+r-s>r-s\ge i-s=i\,'\;,
d\notin D(w\,')
D(w)\setminus D(w\,')=\{d\in D(w):w(d+1)\le s<w(d)\}\;,
D(w\,')\setminus D(w)
d\in D(w\,')\setminus D(w)
(1)
w(d)\le s<w(d+1)
w(d)+r-s>w(d+1)-s
w(d)\le s<w(d+1)<w(d)+r
d\in D(w\,')\setminus D(w)
w(d)\le s<w(d+1)
m=\operatorname{maj}(w)-\operatorname{maj}(w\,')
\begin{align*}m&=\sum\{d:d\in D(w)\setminus D(w\,')\}-\sum\{d:d\in D(w\,')\setminus D(w)\}\\\\ &=\sum\{d:w(d+1)\le s<w(d)\}-\sum\{d:w(d)\le s<w(d+1)\}\;.\tag{2} \end{align*}
\bar w
0
\bar w
0
m=0=k
t>0
\bar w
d_1<\ldots<d_t
\bar w
0
t
a_1<\ldots<a_t
(4)
\bar w
1
a_1=0
(3)
d_i-a_i
1
i
1
(5)
k
a_1<d_1<a_2<d_2<\ldots<a_t<d_t\;.\tag{4}
m=\sum_{i=1}^t(d_i-a_i)\;.\tag{5}
