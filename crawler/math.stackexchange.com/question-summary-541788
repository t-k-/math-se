\int \dfrac{x^3+x^2+x}{x^4+2x^2+1} \mathrm dx 
 Q(x) = (x-a_1)^{k_1} \cdots (x-a_r)^{k_r} \cdot (x^2+2p_{1}x+q_{1})^{m_1} \cdots (x^2+2p_{s}x+q_{s})^{m_s} 
 z(x) = (x-a_1) \cdots (x-a_r) \cdot (x^2+2p_{1}x+q_{1}) \cdots (x^2+2p_{s}x +q_{s})
 V(x) = \frac{Q(x)}{z(x)}.
\int \frac{P(x)}{Q(x)} dx = \frac{U(x)}{V(x)} + \int \frac{w(x)}{z(x)} dx 
c\displaystyle\int \frac{f'}{f}
\int\dfrac{x^3+x^2+x}{x^4+2x^2+1}dx=\int\dfrac{x^3+x}{(x^2+1)^2}dx+\int\dfrac{x^2}{(x^2+1)^2}dx
x=\tan\theta
dx=\sec^2\theta~d\theta
\therefore\int\dfrac{x^3+x}{(x^2+1)^2}dx+\int\dfrac{x^2}{(x^2+1)^2}dx
=\int\dfrac{x^2+1}{2(x^2+1)^2}d(x^2)+\int\dfrac{\tan^2\theta\sec^2\theta}{(\tan^2\theta+1)^2}d\theta
=\int\dfrac{1}{2(x^2+1)}d(x^2+1)+\int\dfrac{\tan^2\theta\sec^2\theta}{\sec^4\theta}d\theta
=\int\dfrac{1}{2(x^2+1)}d(x^2+1)+\int\dfrac{\tan^2\theta}{\sec^2\theta}d\theta
=\int\dfrac{1}{2(x^2+1)}d(x^2+1)+\int\sin^2\theta~d\theta
=\int\dfrac{1}{2(x^2+1)}d(x^2+1)+\int\dfrac{1-\cos2\theta}{2}d\theta
=\dfrac{\ln(x^2+1)}{2}+\dfrac{\theta}{2}-\dfrac{\sin2\theta}{4}+C
=\dfrac{\ln(x^2+1)}{2}+\dfrac{\theta}{2}-\dfrac{\sin\theta\cos\theta}{2}+C
=\dfrac{\ln(x^2+1)}{2}+\dfrac{\tan^{-1}x}{2}-\dfrac{x}{2(x^2+1)}+C
