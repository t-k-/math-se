a_n=2a_{n-1}+2a_{n-2}+3^{n-2}\;.
\begin{align*} b_n&=3^n-a_n\\ &=3^n-\left(2a_{n-1}+2a_{n-2}+3^{n-2}\right)\\ &=3^n-\left(2\left(3^{n-1}-b_{n-1}\right)+2\left(3^{n-2}-b_{n-2}\right)+3^{n-2}\right)\\ &=3^n-\left(2\cdot3^{n-1}+3\cdot3^{n-2}-2b_{n-1}-2b_{n-2}\right)\\ &=2b_{n-1}+2b_{n-2}\;. \end{align*}
n\ge 2
n
00
n-1
1
2
n-2
10
20
a_n=\frac1{4\sqrt3}\left(\left(1+\sqrt3\right)^{n+2}-\left(1-\sqrt3\right)^{n+2}\right)\;.
b_n
b_n=3^n-a_n
a_n=3^n-b_n
a_{n-1}=3^{n-1}-b_{n-1}
a_{n-2}=3^{n-2}-b_{n-2}
3
3^n-b_n=2(3^{n-1}-b_{n-1})+2(3^{n-2}-b_{n-2})+3^{n-2}
b_n=2b_{n-1}+2b_{n-2}+3^n-2\cdot3^{n-1}-2\cdot3^{n-2}-3^{n-2}
