a^n\bmod n
n
n=p^2
\phi(n)=p(p-1)
n=pq
p\neq q
\phi(n)=(p-1)(q-1)
n\nmid a
a^{p^2}\equiv a^{\phi(p^2)+p}\stackrel{\eqref{e}}\equiv a^p\pmod{p^2}
a^{pq}\equiv a^{\phi(pq)+p+q-1}\stackrel{\eqref{e}}\equiv a^{p+q-1}\pmod{pq}
