X \in \mathrm{Mat}_{n \times p}(\mathbb{R})
\mathrm{rank}(X)=p
S = \mathrm{I}_{n} - X \big( X^{\top} X \big)^{-1} X^{\top}
\big( \mathrm{Im}(X) \big)^{\perp}
\mathrm{Im}(X)
X
A \in \mathrm{Mat}_{n \times (n-p)}(\mathbb{R})
 S = A A^{\top} \quad \mathrm{and} \quad A^{\top} A = \mathrm{I}_{n} 
\dim \mathrm{Im}(X) = p
\dim \big( \mathrm{Im}(X) \big)^{\perp} = n-p
\big( \mathrm{Im}(X) \big)^{\perp}
v_1,\ldots, v_p
{\rm Im}(X)
v_{p+1}, \ldots, v_n
{\rm Im}(X)^\bot
A = (v_{p+1} \cdots v_n)
{\rm Im}(X)^\bot
A^\top A = {\rm Id}_{n-p}
v_i
i \le p
A^\top v_i =0 
i > p 
A^\top v_i = e_{i-p}
AA^\top
{\rm Im}(X)
{\rm Im}(X)^\bot
AA^\top
{\rm Im}(X)^\bot
AA^\top = S
 AA^\top v_i = \begin{cases} 0 & i \le p \\ Ae_{i-p} = v_i & i > p \end{cases} 
