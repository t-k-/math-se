\frac{9!}{(3!)^3}- {3 \choose 1} {3 \choose 2}\frac{8!}{(3!)^3} + {3 \choose 2} \frac{7!}{(3!)^3} - {3 \choose 3}{3 \choose 2} \frac{6!}{(3!)^3}
a
b
c
0\leqslant a, b, c \leqslant 2
a
b
c
N_{\alpha,\beta,\gamma} = N\left(a\geqslant \alpha,b \geqslant \beta,c \geqslant \gamma\right)
    \sum_{\alpha=0}^2 \sum_{\beta=0}^2\sum_{\gamma=0}^2 (-1)^{\alpha+\beta+\gamma} N_{\alpha,\beta,\gamma} 
N_{\alpha,\beta,\gamma}
A
B
\frac{6!}{3!3!}
BBBAAA,AAABBB,BAAABB
C
ABBBAA, AABBBA,BBAAAB
C
1
C
ABCBCBACA, ACABCBCBA,BCBACACAB
BBABAA,BBAABA,BABBAA
BAABBA,ABBAAB,ABAABB,AABABB,AABBAB
C
\binom{5}{1}=5
C
BCBABACA, BCBACABA,BABCBACA,BACABCBA,
ABCBACAB,ABACABCB,ACABABCB,ACABCBAB
BABABA,ABABAB
\binom{7}{3}=35
C
BABAAB,BAABAB,ABBABA,ABABBA
C
\binom{6}{2}=15
C
BABACAB,BACABAB, ABCBABA, ABABCBA.
3\times 1+8\times 5+2\times 35+4\times 15=173.
