\mathcal D
\theta
P(\mathcal D) = \sum_\theta P(\mathcal D | \theta) P(\theta)
 \begin{align} P(\mathcal D) = & P(\mathcal D \mid \textrm{"coin is fair"}) \cdot P(\textrm{"coin is fair"})\\ + & P(\mathcal D \mid \textrm{"coin has two heads"}) \cdot P(\textrm{"coin has two heads"}) \end{align} 
P(\mathcal D \mid \textrm{"coin is fair"}) = \frac{1}{2^{10}}
P(\mathcal D \mid \textrm{"coin has two heads"}) = 1
P(\mathcal D) = \frac{1}{2^{10}} \cdot \frac{499}{500} + 1 \cdot \frac{1}{500}   \approx 2.975 \cdot 10^{-3}
 \begin{align} P(\textrm{"coin has two heads"} \mid \mathcal D)  = & \frac{P(\mathcal D \mid \textrm{"coin has two heads"}) \cdot P(\textrm{"coin has two heads"})}{P(\mathcal D)} \\ \approx & \frac{1 \cdot \frac{1}{500}}{2.975 \cdot 10^{-3}} \\ \approx & \mathbf{0.6723} \end{align} 
P(\mathcal D)
\theta
P(\mathcal D) = \frac{1}{2^{10}} \cdot \frac{9}{10} + 1 \cdot \frac{1}{10} \approx 0.10088
P(\mathcal D)
P(\theta)
