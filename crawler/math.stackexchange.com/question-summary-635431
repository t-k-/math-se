\displaystyle{{{\rm d} \over {\rm d}x}\left[%   {\left(x^{3} + 2\right)\left(x^{2} + 2\right) \over x^3+1}\right]}
2x^7+3x^4-6x^+4x/(x^3+1)^2
\{(x^3+2)(x^2+2)\}^\prime.
g^\prime(x)=(x^3+2)^\prime(x^2+2)+(x^3+2)(x^2+2)^\prime.
f^\prime(x),g^\prime(x)
f(x)=x^3+1,g(x)=(x^3+2)(x^2+2).
\left\{\frac{g(x)}{f(x)}\right\}^\prime=\frac{g^\prime(x)f(x)-g(x)f^\prime(x)}{\{f(x)\}^2}.
\{h(x)i(x)\}^\prime=h^\prime(x)i(x)+h(x)i^\prime(x).
g^\prime(x)=3x^2(x^2+2)+(x^3+2)\cdot 2x=5x^4+6x^2+4x,
\frac{(5x^4+6x^2+4x)(x^3+1)-(x^3+2)(x^2+2)\cdot 3x^2}{(x^3+1)^2}.
x^5+2*x^3+2*x^2+4
(x^5+2*x^3+2*x^2+4)/(x^3+1)
d(f/g)/dx=(f'*g-g'*f)/(g^2)
(x^3+4)(x^2+x+1)
 \frac{x^3+2}{x^3+1}=1+\frac1{x^3+1} 
 \begin{align} \frac{\mathrm{d}}{\mathrm{d}x}\frac{(x^3+2)(x^2+2)}{x^3+1} &=\frac{\mathrm{d}}{\mathrm{d}x}\left(x^2+2+\frac{x^2+2}{x^3+1}\right)\\ &=2x+\frac{2x(x^3+1)-3x^2(x^2+2)}{(x^3+1)^2}\\ &=2x+\frac{2x-6x^2-x^4}{(x^3+1)^2} \end{align} 
