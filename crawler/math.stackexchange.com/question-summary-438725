f(\sigma_n^2,l,\sigma_f^2) = -\frac{1}{2} y^T \left(\mathbf{K}+\sigma_n^2\mathbf{I} \right)^{-1}y - \frac{1}{2} \log \left| \mathbf{K}+\sigma_n^2\mathbf{I} \right| - \frac{n}{2} \log2\pi
(\sigma_n^2,l,\sigma_f^2)
n
y
n\times1
\mathbf{I}
n\times n
\mathbf{K}
K_{pq} = \sigma_f^2 \exp\left( - \frac{1}{2l^2} \left| x_p -x_q \right|^2 \right)
x_i
f
\left( \frac{\partial f}{\partial \sigma_f^2}, \frac{\partial f}{\partial l}, \frac{\partial f}{\partial \sigma_n^2} \right)
\left( \frac{\partial \mathbf{K}}{\partial \sigma_f^2}, \frac{\partial \mathbf{K}}{\partial l}, \frac{\partial \mathbf{K}}{\partial \sigma_n^2} \right)
\theta
\frac{\partial f}{ \partial \theta} = ... - \frac{1}{2} \frac{1}{\log \left| \mathbf{K}+\sigma_n^2\mathbf{I} \right|} \frac{\partial \mathbf{K}}{\partial \theta}
