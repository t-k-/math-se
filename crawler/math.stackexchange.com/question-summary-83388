n
B
i
A(i)
A(i) - B < 0
D(0)
D(i)
i
D(i)
D(i) = D(i-1) + A(i) - B
A(i) - B <= 0
D(i) = \min(D(0), D(i-1) + A (i) - B)
A(i) - B > 0
B
D(n) = D(0)
n
i
i
n
B
 \begin{align} \text{Maximize } &B \\ \text{subject to } &\sum_{k=i}^n (A_i - B) \geq 0, \text{ for each }i \in \{1,2,\ldots,n\}, \\ &B \geq 0. \end{align} 
\begin{align} &\sum_{k=i}^n A_i \geq B(n-i+1), \text{ or } \\ &B \leq \frac{1}{n-i+1}\sum_{k=i}^n A_i.  \end{align}
B = \min_{1 \leq i \leq n} \left\{\frac{1}{n-i+1}\sum_{k=i}^n A_i\right\}.
