 H = \frac{1}{1^Tz}\Big[ 1^Tz \mathrm{diag}(z) - zz^T  \Big] 
2 \times 2
z=(e^{x_1},e^{x_2},\cdots,e^{x_n})
f:\mathbb{R}^N\rightarrow \mathbb{R}
f
f(x)=\phi(g(x))
g
g(x)=1^{T}z
\phi
\phi(x)=\log x
\nabla g(x)=z
\frac{1}{1^Tz}z
i
\displaystyle \frac{z_i}{1^Tz}=\frac{e^{x_i}}{e^{x_1}+e^{x_2}+\cdots+e^{x_n}}
i,j
\nabla f(x)=\phi'(g(x))\nabla g(x)
H_{ij}(x)=\nabla_{ij}^2f(x)= \left\{\begin{array} --\frac{z_iz_j}{(1^Tz)^2} & ,i\ne j\\ \frac{z_i(1^Tz-z_i)}{(1^Tz)^2} & ,i=j \end{array} \right.\Rightarrow H(x)=\frac{1}{(1^Tz)^2}[(1^Tz)\mbox{diag}(z)-zz^T] 
