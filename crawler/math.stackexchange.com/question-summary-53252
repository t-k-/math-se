G
A
B
|A|
|B|
n
\delta
G
n
q
\delta^2
n
\delta
G
r
A
B
A_+\cup A_-
B_+\cup B_-
A_+
A
A_-
B
k_A
A_+
B_-
k_B
B_+
A_-
A_+
B_-
B_+
A_-
k_A+k_B\le r
a_1\in A_+
b_- \in B_-
b_1
a_2
b_2\in B_+
a_-\in A_-
(a_1,b_1)
(a_2,b_2)
(a_1,b_-)
(b_1,a_2)
(b_2,a_-)
q
n-r
A_-
k_B
B_+
n-r
B_-
k_A
A_+
r
A_+
r
B_+
r^2
k_Ak_B
A_-
B_-
k_Ak_B
 \begin{eqnarray} q &\le& (n-r)k_B+(n-r)k_A+r^2-k_Ak_B \\ &=& (n-r)(k_A+k_B)+r^2-k_Ak_B \\ &\le& (n-r)r+r^2-k_Ak_B \\ &=& nr-k_Ak_B\;. \end{eqnarray} 
\delta
A_-
B_-
\delta
k_B
B_+
A_-
k_A
A_+
B_-
A_-
B_-
n
k_A\ge\delta
k_B\ge\delta
k_A+k_B\le r
k_Ak_B
q
k_A=\delta
k_B=r-\delta
 \begin{eqnarray} q&\le&nr-\delta(r-\delta)\;,\\ r&\ge&\frac{q-\delta^2}{n-\delta}\;. \end{eqnarray} 
C
C_1 = |C\cap A|
C_2 = |C\cap B|\;.
|C|
|C| < \min(n, (q - \delta^2)/(n- \delta))\;.
C_1 + C_2 < n
C_2 \geq \delta, C_1 \geq \delta\;.
A\setminus C
B\setminus C
q
A\cap C
B\setminus C
A\setminus C
B\cap C
A\cap C
B\cap C
 q \leq C_1(n - C_2) + C_2(n - C_1) + C_1C_2\;.
 q \leq C_1(n - C_2) + C_2(n - C_1) + C_1C_2
 q \leq C_1(n - \delta) + C_2(n - \delta) + \delta^2\;.
C_1C_2
\delta^2
\delta^2\leq C_1C_2
 (C_1 - \delta)(C_2 - \delta) \geq 0
C_2 \geq \delta, C_1 \geq \delta
 \begin{eqnarray} q &\leq& C_1(n - C_2) + C_2(n - C_1) + C_1C_2 \\ &=& C_1n+C_2n-C_1C_2 \\ &=& (C_1 + C_2)n - (C_1 + C_2)\delta + \delta^2 - (C_1C_2 - C_1\delta - C_2\delta + \delta^2) \\ &=& |C| (n - \delta) + \delta^2 - (C_1 - \delta)(C_2 - \delta) \\ &\leq& |C| (n - \delta) + \delta^2\;, \end{eqnarray} 
|C| \geq (q-\delta^2) / (n - \delta)\;,
|C| < \min(n, (q - \delta^2)/(n- \delta))
A
B
8
A
B
2
4
A
B
q
2 \times 6 + 2 \times 8 = 28
(28 - 4) / (8 - 2) = 4
|M| = 4
(28 - 8) / (8 - 4) = 5
