\sum_{n=0}^k e^{-\tfrac{2\pi i}{4k+8}(n^2+2n)} = e^{\pi i/(2k+4)}\left(\sqrt{\tfrac{k}{2}+1}e^{-\pi i/4} - \frac{-e^{-\pi ik/2}+1}{2} \right).
\sum_{n=1}^{r-1} e^{\tfrac{\pi i}{2r}n^2} = \sqrt{r}\frac{1+i}{2} - \frac{e^{\pi i r/2} + 1}{2}.
r
\sum_{n=1}^{r-1} e^{\tfrac{\pi i}{2r}n^2} = \sum_{n=1}^{r-1} e^{\tfrac{\pi i}{2r}(n+r)^2}
k
r
a,b,c
a \not= 0
c \not= 0
ac+b
\sum_{n=0}^{\lvert c \rvert -1} e^{\pi i(an^2+bn)/c} = \lvert c/a \rvert^{1/2} e^{\pi i (\lvert ac \rvert-b^2)/(4ac)} \sum_{n=0}^{\lvert a\rvert-1} e^{-\pi i (c n^2+b n)/a}.
k
a
b
b\gt0
\gcd(a,b)=1
G(a,b)=\sum_{x{\rm\ mod\ }b}e^{2\pi iax^2/b}
\eqalign{G(1,b)&=(1+i)\sqrt b{\rm\ if\ }b\equiv0\pmod4,\cr &=\sqrt b{\rm\ if\ }b\equiv1\pmod4,\cr &=0{\rm\ if\ }b\equiv2\pmod4,\cr &=i\sqrt b{\rm\ if\ }b\equiv3\pmod4.\cr}
n\gt r-1
n\le r-1
