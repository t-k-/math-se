a \pmod p
p
p\not=2
p\mid a^3+1
p\nmid a+1
p\mid a^3+1=(a+1)(a^2-a+1)\;\rightarrow\; p\mid a^2-a+1
a^2\equiv a-1 \pmod p
a-1
\left(\frac{a-1}p\right)
a^{(p-1)/2}\equiv 1 \pmod p
a^{(p-1)/2}=a^{2(p-1)/2}=a^{p-1}\equiv 1 \pmod p
p-1
