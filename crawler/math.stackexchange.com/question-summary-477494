f : \mathbb{R}^n \to \mathbb{R}
f(x) = x^TA^TAx - \lambda( x^T x - 1)
A
n \times n
\lambda
x
A^T A x - \lambda x
f
f(x)=\langle Ax,Ax\rangle-\lambda(\langle x,x\rangle-1)
g: \mathbb R^n\rightarrow \mathbb R^n,\quad v\mapsto Av 
Dg(v)x=Ax
h:\mathbb R^n\times \mathbb R^n\rightarrow \mathbb R,\quad (u,v)\mapsto \langle u,v\rangle
Dh(u,v)(x,y)=\langle u,y\rangle+\langle x,v\rangle
f(x)=h(g(x),g(x))-\lambda(h(x,x)-1)
Df(x)(v)=Dh(g(x),g(x)(Av,Av)-\lambda Dh(x,x)(v,v)\\=(\langle Ax,Av\rangle+\langle Av,Ax\rangle)-\lambda(\langle x,v\rangle+\langle v,x\rangle)=2\langle Ax,Av\rangle-2\lambda\langle x,v\rangle=2\langle A^TAx-\lambda x,v\rangle
f'(x)=Df(x)=2(A^TAx-\lambda x)
