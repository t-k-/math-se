\text{triangle}(x)=\int_0^{x}\text{sign}(\sin(t))dt
\text{square}(x)=\frac{1}{2}(\text{sign}(\sin(x))-1) \; .
b\left(\left(\frac{2x}{p}-2\left\lfloor\frac{x}{p}\right\rfloor-\frac12\right) \mathrm{sign}\left(2\left\lfloor\frac{x}{p}\right\rfloor-\frac{2x}{p}+1\right)+\frac12\right)
p
b
-b
