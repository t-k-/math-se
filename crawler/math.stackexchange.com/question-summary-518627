\sum_{i=1}^p \frac{n(n+1)}p = \frac1 p \frac {p(p+1)(p+2)}3 = \frac{p^2+3p+2}3
\frac{p^2+3p+2}3 - \frac{2p^2+3p+7}6 = \frac{p-1}2
\sum_{n=1}^p \frac{n(n+1)}p - \lfloor\frac{n(n+1)}p\rfloor = \frac{p-1}2
\dfrac 1 p
n(n+1)
p
\displaystyle \sum_{n \in \Bbb F_p} (n(n+1) \pmod p) = p(p-1)/2
f(x)
n(n+1)=x
\Bbb F_p
n(n+1) = x \iff n^2 + n = x \iff (2n+1)^2 = 4x+1
\displaystyle f(x) = 1 + \binom{4x+1}p
y = 1+4x
\displaystyle \sum x(y) \binom y p 
x(y) = \frac 14 (y-1 + k(y)p)
k(y)
y-1
4
\frac 1 4 \left(\sum y\binom y p + (3p-1)S_0 - S_1 + (p-1)S_2 + (2p-1)S_3\right) = \frac 1 4 \left(\sum y\binom y p + p(S_0  + S_2)\right)
n(n+1) = q_n p + r_n
0\leq r_n < p
\left\lfloor\frac{n(n+1)}{p}\right\rfloor =  \left\lfloor q_n + \frac{r_n}{p}\right\rfloor = q_n +  \left\lfloor\frac{r_n}{p}\right\rfloor = q_n
q_n
\sum_{n=1}^p q_n  =\sum_{n=1}^p\frac{n(n+1) - r_n}{p} = \frac{1}{3}(p+1)(p+2) - \frac{1}{p} \sum_{n=1}^p r_n
p \equiv 7 \pmod{8}
\sum_{n=1}^p r_n = \frac{p(p-1)}{2}
r_n
n(n+1)
p
0
\sum_{n=1}^{p-2} r_n = \frac{p(p-1)}{2}
