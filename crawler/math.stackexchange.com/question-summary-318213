 a_n = a_{n-1} + 9a_{n-2} - 9a_{n-3} \;\;\; (n \geq 3)
a_0 = 0, a_1 = 1, a_2 = 2
g(x)
 g(x) = a_0 + a_1x + a_2x^2+... =  0 + x + 2x^2 + (a_2 + 9a_1 - 9a_0)x^3 + (a_3+9a_2-9a_1)x^4+...
g(x) = x + 2x^2 + x(a_2x^2 + a_3x^3 + ...) +  9x^2(a_1x + a_2x^2+...) - 9x^3(a_0 + a_1x + a_2x^2+...)
a_2x^2 + a_3x^3+...
g(x) - a_0 - a_1x
a_1x + a_2x^2+...
g(x) - a_0
a_0 + a_1x + a_2x^2+...
g(x)
g(x) = x + 2x^2 + xg(x) - x^2 + 9x^2g(x) - 9x^3g(x)
g(x) = \frac{x^2 + x}{9x^3 - 9x^2 - x + 1}
g(x) = \frac{1}{3}\left (\frac{1}{1+3x}\right ) + \frac{1}{12}\left (\frac{1}{1+3x}\right ) - \frac{1}{4}\left (\frac{1}{1+x}\right )
\frac{1}{3}\sum_{k = 0}^{\infty }(-3)^kx^k + \frac{1}{12}\sum_{k = 0}^{\infty }(-3)^kx^k - \frac{1}{4}\sum_{k=0}^{\infty }(-1)^kx^k
a_n = \frac{1}{3}(-3)^n + \frac{1}{12}(-3)^n - \frac{1}{4}(-1)^n
(3x-1)(3x+1)(x-1)
g(x)=\sum_{n\ge 0}a_nx^n
a_n=0
n<0
a_n = a_{n-1}+9a_{n-2}-9a_{n-3}+[n=1]+[n=2]\;,\tag{1}
(1)
x^n
n
\begin{align*} g(x)&=\sum_{n\ge 0}a_nx^n\\ &=\sum_n(a_{n-1}+9a_{n-2}-9a_{n-3}+[n=1]+[n=2])x^n\\ &=\sum_n a_{n-1}x^n+9\sum_n a_{n-2}x^n-9\sum_n a_{n-3}x^n+x+x^2\\ &=x\sum_n a_nx^n+9x^2\sum_n a_nx^n-9x^3\sum_n a_nx^n+x+x^2\\ &=g(x)\left(x+9x^2-9x^3\right)+x+x^2\;, \end{align*}
\begin{align*}g(x)&=\frac{x+x^2}{1-x-9x^2+9x^3}\\ &=\frac{x+x^2}{(1-x)(1-3x)(1+3x)}\\ &=\frac{-1}{4(1-x)}+\frac1{3(1-3x)}-\frac1{12(1+3x)}\\ &=-\frac14\sum_{n\ge 0}x^n+\frac13\sum_{n\ge 0}3^nx^n-\frac1{12}\sum_{n\ge 0}(-1)^n3^nx^n\;, \end{align*}
\begin{align*} a_n&=-\frac14+3^{n-1}-\frac14(-1)^n3^{n-1}\\ &=3^{n-1}-\frac14\left(1+(-1)^n3^{n-1}\right)\;. \end{align*}
