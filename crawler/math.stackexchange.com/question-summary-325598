p
a \in \Bbb Z
n=a^{p-1}+...+a+1
n =\begin{cases}        p,     & \text{or} \\        2px+1, & \text{
}     \end{cases}
(1)
q\mid a, n\equiv1\pmod q\implies q\not\mid n
(2)
q\mid(a-1)\iff a\equiv1\pmod q\implies a^r\equiv1\pmod q
r\ge0
n\equiv\sum_{0\le r\le p-1}1\pmod q\equiv p\pmod q
q
n
q\mid p\implies q=p
p,q
(3)
q\not\mid a\implies (a,q)=1
q\not\mid (a-1)\implies (a-1,q)=1
\implies (a(a-1),q)=1
n=\frac{a^p-1}{a-1}\implies q\mid \frac{a^p-1}{a-1}\implies q(a-1)\mid (a^p-1) \implies q\mid (a^p-1)
(a-1,q)=1
a^{q-1}\equiv1\pmod q\implies ord_qa\mid (p,q-1)
(p,q-1)=1
p
p
(p,q-1)=1, ord_qa\mid1\implies q\mid (a-1)
(a-1,q)=1
(p,q-1)=p\implies p\mid(q-1)
q-1
q
\implies 2\mid(q-1)
(2,p)\mid(q-1)\implies 2p\mid(q-1) 
a \equiv 1 \pmod q
n = a^{p-1} + \cdots + 1
q
q \mid n
