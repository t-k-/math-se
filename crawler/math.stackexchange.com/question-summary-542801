xyz
p=(p_x,p_y,p_z)
n=(n_x,n_y,n_z)
uvw
w
n
p
uvw
\hat x, \hat y, \hat z
\hat z \mapsto \hat z' = \hat n
\hat x', \hat y', \hat z'
\hat u, \hat v, \hat w
p
p_u = p \cdot \hat u
\hat n \mapsto \hat z
xyz
uvw
p
p_u \hat x + p_v \hat y + p_w \hat z
\hat z
n
\hat b
\theta
\hat z
n
\hat z \cdot \hat n = \cos \theta
R(a) = e^{\hat b \theta/2} a e^{-\hat b \theta/2}
\hat b
\hat z \times \hat n
\hat z \mapsto \hat n
-\hat b
\hat n \mapsto \hat z
b=\hat{k}\times n
\theta=\cos^{-1}(\hat{k}\cdot n)
\hat{b}=(\hat{b}_x,\hat{b}_y,\hat{b}_z)=b/\|b\|
 Q=\begin{bmatrix}  q_0^2+q_1^2-q_2^2-q_3^2 & 2(q_1q_2-q_0q_3) & 2(q_1q_3+q_0q_2)\\      2(q_2q_1+q_0q_3) & q_0^2-q_1^2+q_2^2-q_3^2 & 2(q_2q_3-q_0q_1\\      2(q_3q_1-q_0q_2) & 2(q_3q_2+q_0q_1) & q_0^2-q_1^2-q_2^2+q_3^2 \end{bmatrix}. 
p
 (p_u,p_v,p_w)=(p\cdot\hat{u},p\cdot\hat{v},p\cdot\hat{w}) 
