x
x^k \equiv b \pmod n
n
\gcd(k,\phi(n)) > 1
\gcd(b,n)=1
d = \gcd(k,n)
u,v
uk + v\phi(n) = d
u
b^{u\phi(n)/d} \not \equiv 1 \pmod{n}
\equiv 1 \pmod{n}
 x^d \equiv b^u \pmod{n} 
b^{u\phi(n)/d} \equiv 1 \pmod{n}
n
n = \prod p^t
p^t
n
 b^{u \phi(p^t)/d'} \equiv 1 \pmod{ p^t} \quad \text{with } d' = \gcd(d,\phi(p^t)) 
 x^d \equiv b^u \pmod{p^t} 
 x^{d'} \equiv b' \pmod{p^t} \quad\text{ for certain }b'\text{ with }\quad b^{\phi(p^t)/d'} \equiv 1 \pmod{p^t}
d'
P(x) = x^{d'} - b'
d'
p^t
\gcd
a
p
P(x)
 x^{d'} \equiv b' \pmod{p^t} 
 \gcd( (x+a)^{\phi(p^t)/d'}-1, P(x) ) 
