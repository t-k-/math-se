Y_1 = {\rm max}(y_1, y_2)
Y_2 = {\rm min}(y_1, y_2)
y
\cos^{-1}\!\left({Y_1 - Y_2\over\sqrt{(x_1-x_2)^2 +(Y_1-Y_2)^2} }\right)\,.
{\bf r}_1 = (x_1, Y_1)
{\bf r}_2 = (x_2, Y_2)
\hat{\bf r} = ({\bf r}_1 - {\bf r}_2)/||{\bf r}_1-{\bf r}_2||
\hat{\bf y}
y
\hat{\bf y} = (0, 1)
\cos\theta = \hat{\bf y}\cdot \hat{\bf r}
