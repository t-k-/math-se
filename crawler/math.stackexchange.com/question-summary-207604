a
n
a + 2a + 3a + \cdots + na = \frac{n(n+1)}{2} a.
\lfloor a\rfloor + \lfloor 2a\rfloor + \lfloor 3a\rfloor + \cdots + \lfloor na\rfloor 
\lceil a\rceil + \lceil 2a\rceil + \lceil 3a\rceil + \cdots + \lceil na\rceil 
n
 0 < a < 1
a
 \begin{align*} \sum_{k=1}^{n} (ka - \lfloor ka \rfloor) &= \sum_{k=1}^{mq} (ka - \lfloor ka \rfloor) + \sum_{k=1}^{r} (ka - \lfloor ka \rfloor) \\ &= \frac{m(q-1)}{2} + O(1)  = \frac{n(q-1)}{2q} + O(1). \end{align*}
 \sum_{k=1}^{n} \lfloor ka \rfloor = \frac{1}{2}n\left(n+\frac{1}{q}\right) + O(1). 
\sum_{0\le k<n} \left\lfloor \frac {pk} q \right\rfloor
n
q
\lbrace pk /q\rbrace
q/d
d=gcd(p,q)
d\ne 1
n
q
gcd(p/d,q/d)=1
(p/d)k=j\;(\text{mod}\;q/d)
q/d
j
0\le j<q/d
 \sum_{0\le k<n} \left\lfloor \frac {pk} q \right\rfloor  = \sum_{0\le k<n} \frac {pk} q + \sum_{0\le k<n} \left\lbrace \frac {pk} q \right\rbrace  = \frac p q \frac {n(n-1)} 2 + \sum_{0\le k<n} \left\lbrace \frac {pk} q \right\rbrace 
 \sum_{0\le k<n} \left\lbrace \frac {pk} q \right\rbrace    = \frac n q d \sum_{0\le k<q/d} \left\lbrace \frac {pk} q \right\rbrace    = \frac n q d \sum_{0\le k<q/d} \left\lbrace \frac {p/d} {q/d} k \right\rbrace 
 \sum_{0\le k<n} \left\lbrace \frac {pk} q \right\rbrace   = \frac n q d \sum_{0\le k<q/d} \left\lbrace \frac {1} {q/d} k \right\rbrace   = \frac n q d \sum_{0\le k<q/d} \frac {1} {q/d} k   = n\left(1-\frac d q \right) 
 \sum_{0\le k<n} \left\lfloor \frac {pk} q \right\rfloor  = \frac p q \frac {n(n-1)} 2 + n \left(1-\frac d q \right) 
 \sum_{1\le k\le n} \left\lfloor \frac {pk} q \right\rfloor  = \frac p q \frac {n(n+1)} 2 + n \left(1-\frac d q \right) 
