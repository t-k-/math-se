 \frac{x^2}{x^2+1} 
 1- \frac{1}{x^2+1} 
\frac{x^2}{x^2 + 1} = \overbrace{\frac{x^2 + 1 -1}{x^2 + 1}}^{Adding\,+1-1} = \underbrace{\frac{x^2 + 1}{x^2 + 1}}_{=1} - \frac{1}{x^2 + 1} = 1 - \frac{1}{x^2 + 1}
\rm\color{#c00}{scale}
  (a x^{k+n} + f) - \color{#c00}{a x^k} (x^n + g)\ =\ f-ax^kg
\ \Rightarrow\ \dfrac{a x^{k+n}+f}{x^n+g}\, =\ \color{#c00}{a x^k} +\!\!\! \underbrace{\dfrac{f-ax^k g}{x^n + g}}_{\large\rm recurse\ on\ this}
\,x^n + g.
  x^2 -\color{#c00}{1}\cdot(x^2 +1)\ =\ \color{#0a0}{{-1}} 
\Rightarrow\ \ \dfrac{x^2}{x^2+1}\ =\ \color{#c00}1+\dfrac{\color{#0a0}{-1}}{x^2+1}
