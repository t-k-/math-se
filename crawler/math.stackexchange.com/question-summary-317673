a_1 = 2
a_{n+1} = 2^n + a_n
a_n
A(x) = \sum_{n \geq 1} a_n x^n
x^n
n
\sum_{n \geq 1} a_{n+1} x^n = \sum_{n \geq 1} (2^n + a_n) x^n
\sum_{n \geq 1} a_{n + 1} x^n = a_2 x + a_3 x^2 + a_4 x^4 + \ldots = A(x)/x - a_1
\sum_{n \geq 1} (2^n + a_n) x^n = \sum_{n \geq 1} 2^n x^n + A(x)
a_1 = 2
A(x) = \frac{x}{1- x} (\sum_{n \geq 1} 2^n x^n + 2)
\sum_{n \geq 1} 2^n x^n = \sum_{n \geq 1} (2x)^n = \frac{2x}{1 - 2x} 
A(x) = \frac{x}{1-x} \cdot \frac{2 - 2x}{1 - 2x} = \frac{2x}{1 - 2x}
