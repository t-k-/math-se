 (1+x+\dots+x^n)^3 
n
n=1
5
 1, 3, 3, 1 
 1, 3, 6, 7, 6, 3, 1 
 1, 3, 6, 10, 12, 12, 10, 6, 3, 1 
 1, 3, 6, 10, 15, 18, 19, 18, 15, 10, 6, 3, 1 
 1, 3, 6, 10, 15, 21, 25, 27, 27, 25, 21, 15, 10, 6, 3, 1 
i
n
x^i
(1+\dots+x^n+\dots)^3
i
x^i
y_1+y_2+y_3 = i
y_1, y_2, y_3 \leq n
y_i
S_1
y_1>n
3
y_2>n
y_3>n
S_2
y_1>n
y_2>n
S_3
\binom{i+2}{2}-3S_1+3S_2-S_3,
y_1+y_2+y_3=n
y_1>n
\binom{i-(n+1)+2}{2}=\binom{i+1-n}{2}
S_2
S_3
(y_1-(n+1))+y_2+y_3=i-(n+1)
y_1-(n+1), y_2, y_3 \geq 0
\binom{i+2}{2}-3\binom{i+1-n}{2}+3\binom{i-2n}{2}-\binom{i-1-3n}{2}.
n
\sum_{k=0}^{3n}{\binom{3}{k}}_{n+1}x^{k}=(1 + x + ... + x^{n})^3\,
 \sum_{k=0}^{3n)}{\binom{3}{k}}_{n+1}x^{k}=\left(\frac{1-x^{n+1}}{1-x}\right)^{3}=(1-x^{n+1})^{3}(1-x)^{-3}\,
(1-x^{n+1})^{3}=\sum_{i=0}^{3}(-1)^{i}\binom{3}{i}x^{(n+1)i}
(1-x)^{-3}=\sum_{j=0}^{\infty}\binom{2+j}{j}x^{j}
 \sum_{k=0}^{\infty}{\binom{3}{k}}_{n+1}x^{k}=\sum_{i=0}^{3}(-1)^{i}\binom{3}{i}x^{(n+1)i}\sum_{j=0}^{\infty}\binom{2+j}{j}x^{j}=
=\sum_{j=0}^{\infty}\sum_{i=0}^{3}(-1)^{i}\binom{3}{i}\binom{2+j}{j}x^{(n+1)i+j}=
 =\sum_{k=0}^{\infty}\sum_{i=0}^{3}(-1)^{i}\binom{3}{i}\binom{2+k-(n+1)i}{2}x^{k}\,
{\binom{3}{k}}_{(n+1)}=\sum_{i=0}^{3}(-1)^{i}\binom{3}{i}\binom{2+k-(n+1)i}{2}\,
x^i
(a,b,c) \in \{0,1,2,...\}^3
a+b+c=i
\le i
\frac{1}{2}(i+1)(i+2)
a,b,c \le n
n
n
n
n+1
2n+2
3n+3
\Theta(x)=1
x\ge 0
0
x<0
 \begin{eqnarray} a_{i,n}&=&\frac{1}{2}(i+1)(i+2) - \frac{3}{2}(i-n)(i-n+1)\Theta(i-n-1) \\ &=& + \frac{3}{2}(i-2n-1)(i-2n)\Theta(i-2n-2) - \frac{1}{2}(i-3n-2)(i-3n-1)\Theta(i-3n-3), \end{eqnarray} 
